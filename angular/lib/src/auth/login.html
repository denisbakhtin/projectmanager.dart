<div class="container auth-form-wrapper">
    <div *ngIf="user == null" class="auth-card">
        <form #form="ngForm" (ngSubmit)="onSubmit()">
            <div class="card-content">
                <div class="welcome">
                    <h2 class="title">We are glad to see you again!</h2>
                    <span>Don't have an account? <material-button flat class="" (trigger)="router.navigate(RoutePaths.register.toUrl())">Register!</material-button></span>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1"><i class="fa fa-envelope-o"></i></span>
                        </div>
                        <input 
                            type="email"
                            class="form-control" 
                            #email="ngForm"
                            [class.is-valid]="email.dirty && email.valid" 
                            [class.is-invalid]="email.dirty && !email.valid" 
                            placeholder="Email Address" 
                            [(ngModel)]="login.email" 
                            ngControl="email" 
                            required
                        />
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1"><i class="fa fa-lock"></i></span>
                        </div>
                        <input 
                            type="password" 
                            class="form-control" 
                            placeholder="Password" 
                            #password="ngForm"
                            [class.is-valid]="password.dirty && password.valid" 
                            [class.is-invalid]="password.dirty && !password.valid" 
                            [(ngModel)]="login.password" 
                            ngControl="password" 
                            required
                        />
                    </div>
                </div>
                <p *ngIf="error != null" class="error">{{ error }}</p>
            </div>
            <div class="actions">
                <material-button 
                    [disabled]="!form.valid" 
                    class="btn btn-primary btn-round full-width" 
                    raised
                    (trigger)="onSubmit()">
                    Login
                </material-button>
            </div>
        </form>
    </div>
    <p *ngIf="user != null">You are currently logged in as {{user.email}}.</p>
</div>